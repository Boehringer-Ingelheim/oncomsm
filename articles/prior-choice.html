<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="oncomsm">
<title>Prior Choice â€¢ oncomsm</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prior Choice">
<meta property="og:description" content="oncomsm">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">oncomsm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.5.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/oncomsm.html">Get started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/prior-choice.html">Prior Choice</a>
    <a class="dropdown-item" href="../articles/avoiding-bias.html">Avoiding Bias During Interim Analyses</a>
    <a class="dropdown-item" href="../articles/web_only/probability-of-go.html">Application to Probability of 'go'</a>
    <a class="dropdown-item" href="../articles/web_only/bhmbasket-integration.html">Integration with bhmbasket</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Boehringer-Ingelheim/oncomsm/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Prior Choice</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Boehringer-Ingelheim/oncomsm/blob/HEAD/vignettes/prior-choice.Rmd" class="external-link"><code>vignettes/prior-choice.Rmd</code></a></small>
      <div class="d-none name"><code>prior-choice.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://boehringer-ingelheim.github.io/oncomsm/">oncomsm</a></span><span class="op">)</span></span></code></pre></div>
<p><strong>tl;dr:</strong> <em>Identification of the shape parameter is
difficult settings with little data and it is thus recommended to
restrict the shape parameter to <span class="math inline">\(1\)</span>
(exponential model) if no historical data for the construction of an
informative prior is available. A beta-mixture prior is suggested for
the response probability and log-normal priors on shape and median
time-to-next-event for the time-to-event components.</em></p>
<div class="section level2">
<h2 id="why-weibull-transition-times">Why Weibull transition times?<a class="anchor" aria-label="anchor" href="#why-weibull-transition-times"></a>
</h2>
<p>In <code>oncomsm</code>, the distributions of the between-state
transition times are modeled as Weibull distributions. This restriction
in terms of the class of distribution is an implicit prior on the
transition times. The rationale is mainly due to a trade-off between
model flexibility and model complexity. The Weibull family is a two
parameter distribution family where the probability density function is
given by</p>
<p><span class="math display">\[
f(t|a,b) = \frac a b \bigg(\frac t b\bigg)^{a - 1} e^{-\big(\frac t
b\big)^a} \quad t &gt; 0
\]</span> where <span class="math inline">\(a\)</span> is the shape and
<span class="math inline">\(b\)</span> the scale parameter. The
corresponding hazard function is given by</p>
<p><span class="math display">\[
h(t|a,b) = \frac b a \bigg(\frac t a\bigg)^{b - 1} \ .
\]</span></p>
<p>The one-parameter exponential distribution is recovered as a special
case when <span class="math inline">\(b = 1\)</span>. The Weibull
distribution family adds flexibility in one important aspect since it
allows the hazard rate to be either increasing (<span class="math inline">\(b&lt;1\)</span>) or decreasing (<span class="math inline">\(b&gt;1\)</span>) over time.</p>
<p><img src="prior-choice_files/figure-html/weibull-hazards-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Combined with a three-state model, the Weibull-model provides quite
some flexibility to model different disease progression characteristics
without increasing model complexity too much. Compared to an exponential
model, the three-state Weibull model has 7 instead of 4 parameters.</p>
<p>Other two-parameter survival distributions like the log-normal or
Gamma distribution are equally viable but the characteristics of their
hazard functions either more intricate (non-monotonous) or less flexible
than the Weibull distribution. Additionally, the Weibull distribution is
the only distribution which can be interpreted both in terms of
proportional hazards and accelerated failure times. Note that covariate
modeling is not yet implemented in <code>oncomsm</code>. Realistically,
proper model selection or the identification of more complex patterns in
the hazard function are unfeasible with small sample sizes. The Weibull
distribution is this primarily chosen due to the intuitive
interpretation of its parameters.</p>
<p>In settings with larger sample sizes model selection is more
feasible. The <a href="https://cran.r-project.org/package=flexsurv" class="external-link"><code>flexsurv</code></a>
package covers a large number of common parametric survival models and
supports multi-state models as well.</p>
</div>
<div class="section level2">
<h2 id="parameterization-and-prior-classes">Parameterization and prior classes<a class="anchor" aria-label="anchor" href="#parameterization-and-prior-classes"></a>
</h2>
<p>Both scale and shape are of interest. Hence, the reference prior for
a Weibull distribution is proportional to <span class="math inline">\(1/(a\, b)\)</span> (see, <a href="https://doi.org/10.1016/S0378-3758(96)00155-3" class="external-link">A note on
non-informative priors for Weibull distributions</a>). Any
differentiable re-parameterization <span class="math inline">\(g^{-1}:g(a,b)\mapsto (a,b)\)</span> with Jacobian
absolute determinant <span class="math inline">\(1/(a\,b)\)</span> thus
leads to an (improper) uniform reference prior via pull-back of the
reference prior on <span class="math inline">\((a,b)\)</span>. The
transformation given by</p>
<p><span class="math display">\[
g^{-1}(a, b) = \Bigg(\ \log\bigg(\ \underbrace{a
\log(2)^{1/b}}_{\text{median}} \ \bigg),\ \log(b) \ \Bigg)
\]</span></p>
<p>that transforms scale <span class="math inline">\(a\)</span> and
shape <span class="math inline">\(b\)</span> to the log-median and
log-shape has Jacobian</p>
<p><span class="math display">\[
\begin{pmatrix}
  \frac 1 a &amp; - \frac{\log(\log(2))}{b^2} \\
  0 &amp; \frac 1 b
\end{pmatrix}
\]</span></p>
<p>and thus determinant <span class="math inline">\(1/(a\,b)\)</span>.
In this sense, the median and log-shape are a natural parameterization
for the Weibull distribution since the reference and Jeffreys prior
coincide to the (improper) uniform distribution on this parameter space.
A practical benefit of using the median instead of the raw scale
parameter is that it has a more direct interpretation for
practitioners.</p>
<p>To stabilize inference in settings with little data, it is often
advisable to use weakly informative priors instead of completely
non-informative ones. If one is only willing to specify the first two
moments for a distribution on <span class="math inline">\(\mathbb{R}^2\)</span>, the normal distribution is
the unique maximum entropy distribution. Assuming independence of shape
and median, this implies that log-normal priors on both shape and median
are a natural weakly-informative class of priors for the Weibull
distribution.</p>
<p>For the response probability <span class="math inline">\(p\)</span>,
a mixture prior consisting of a <span class="math inline">\(\operatorname{Beta}(\alpha,\beta)\)</span>
component with weight <span class="math inline">\(1-\eta\)</span> and a
uniform component, <span class="math inline">\(\operatorname{Beta}(1,1)\)</span>, with weight
<span class="math inline">\(\eta\)</span> is suggested.</p>
</div>
<div class="section level2">
<h2 id="choice-of-hyperparameters">Choice of hyperparameters<a class="anchor" aria-label="anchor" href="#choice-of-hyperparameters"></a>
</h2>
<p>Directly specifying the mean and variance of the lognormal priors for
shape and median time to event can be unintuitive. Instead, the <span class="math inline">\(0.05\)</span> and <span class="math inline">\(0.95\)</span> quantiles of the median and shape
can be specified. These two constraints are then sufficient to identify
the mean and variance parameters of the log-normal distribution.</p>
<p>If, for instance, very little is known about the median time to
response but it is implausible that the median is lower than 1 or
greater than 36 months, the lognormal prior on median time to response
is depicted in the following plot.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">oncomsm</span><span class="fu">:::</span><span class="fu">get_mu_sigma</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">36</span><span class="op">)</span></span>
<span><span class="va">median_transition_time</span> <span class="op">&lt;-</span> <span class="va">t</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  median_transition_time <span class="op">=</span> <span class="va">median_transition_time</span>,</span>
<span>  pdf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">dlnorm</a></span><span class="op">(</span><span class="va">median_transition_time</span>, <span class="va">res</span><span class="op">$</span><span class="va">mu</span>, <span class="va">res</span><span class="op">$</span><span class="va">sigma</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">median_transition_time</span>, <span class="va">pdf</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="prior-choice_files/figure-html/unnamed-chunk-2-1.png" width="672" style="display: block; margin: auto;"></p>
<p>This is the default vague prior on the median time to next event for
all three transitions.</p>
<p>The choice of the prior on the shape is more difficult since the
shape parameter is harder to identify from only a few (interval
censored) data points per transition. To avoid convergence issues
<code>oncomsm</code> uses a default of a lognormal prior with 5%
quantile 0.9 and 95% quantile 2.5. If changes in the hazards over time
are expected, it can make sense to relax the prior at the risk of more
divergent transitions during sampling. A small number of divergent
transitions can usually be tolerated (default: up to 10%). In practice,
it is always possible to reduce the prior variability post-hoc or to
fine-tune the MCMC parameters to obtain stable inference[<a href="https://mc-stan.org/docs/2_19/reference-manual/divergent-transitions" class="external-link uri">https://mc-stan.org/docs/2_19/reference-manual/divergent-transitions</a>].</p>
<p>The following plot shows the variability in shape for fixed scale of
this default prior.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">oncomsm</span><span class="fu">:::</span><span class="fu">get_mu_sigma</span><span class="op">(</span><span class="fl">0.9</span>, <span class="fl">2.5</span><span class="op">)</span></span>
<span><span class="va">shape</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span>, length.out <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">251L</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span><span class="fl">100</span>, <span class="va">res</span><span class="op">$</span><span class="va">mu</span>, <span class="va">res</span><span class="op">$</span><span class="va">sigma</span><span class="op">)</span>,</span>
<span>  a <span class="op">=</span> <span class="fl">6</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/expand_grid.html" class="external-link">expand_grid</a></span><span class="op">(</span>t <span class="op">=</span> <span class="va">t</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  survival <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Weibull.html" class="external-link">pweibull</a></span><span class="op">(</span><span class="va">t</span>, <span class="va">b</span>, <span class="va">a</span><span class="op">)</span>,</span>
<span>  label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"a=%5.2f, b=%5.2f"</span>, <span class="va">a</span>, <span class="va">b</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">t</span>, <span class="va">survival</span>, group <span class="op">=</span> <span class="va">label</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span></span></code></pre></div>
<p><img src="prior-choice_files/figure-html/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;"></p>
<p>The resulting Weibull density is</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="va">shape</span>, pdf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">dlnorm</a></span><span class="op">(</span><span class="va">shape</span>, <span class="va">res</span><span class="op">$</span><span class="va">mu</span>, <span class="va">res</span><span class="op">$</span><span class="va">sigma</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">shape</span>, <span class="va">pdf</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="prior-choice_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;"></p>
<p>A sample from the joint prior then reflects the overall
variability.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">251L</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fu">oncomsm</span><span class="fu">:::</span><span class="fu">get_mu_sigma</span><span class="op">(</span><span class="fl">0.75</span>, <span class="fl">3</span><span class="op">)</span><span class="op">$</span><span class="va">mu</span>,</span>
<span>             <span class="fu">oncomsm</span><span class="fu">:::</span><span class="fu">get_mu_sigma</span><span class="op">(</span><span class="fl">0.75</span>, <span class="fl">3</span><span class="op">)</span><span class="op">$</span><span class="va">sigma</span><span class="op">)</span>,</span>
<span>  a <span class="op">=</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_dbl</a></span><span class="op">(</span><span class="va">b</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">oncomsm</span><span class="fu">:::</span><span class="fu">get_mu_sigma</span><span class="op">(</span><span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">res</span><span class="op">$</span><span class="va">mu</span>, <span class="va">res</span><span class="op">$</span><span class="va">sigma</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span> <span class="op">/</span> <span class="va">x</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/expand_grid.html" class="external-link">expand_grid</a></span><span class="op">(</span>t <span class="op">=</span> <span class="va">t</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  survival <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Weibull.html" class="external-link">pweibull</a></span><span class="op">(</span><span class="va">t</span>, <span class="va">b</span>, <span class="va">a</span><span class="op">)</span>,</span>
<span>  label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"a=%5.2f, b=%5.2f"</span>, <span class="va">a</span>, <span class="va">b</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">t</span>, <span class="va">survival</span>, group <span class="op">=</span> <span class="va">label</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span></span></code></pre></div>
<p><img src="prior-choice_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kevin Kunzmann, Boehringer Ingelheim Ltd..</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
