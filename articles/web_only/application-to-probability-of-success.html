<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="oncomsm">
<title>Application to Probability of Success • oncomsm</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Application to Probability of Success">
<meta property="og:description" content="oncomsm">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">oncomsm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../articles/oncomsm.html">Get started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../../articles/bhmbasket-integration.html">Integration with bhmbasket</a>
    <a class="dropdown-item" href="../../articles/web_only/application-to-probability-of-success.html">Application to Probability of Success</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Boehringer-Ingelheim/oncomsm/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Application to Probability of Success</h1>
                        <h4 data-toc-skip class="author">Kevin
Kunzmann</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Boehringer-Ingelheim/oncomsm/blob/HEAD/vignettes/web_only/application-to-probability-of-success.Rmd" class="external-link"><code>vignettes/web_only/application-to-probability-of-success.Rmd</code></a></small>
      <div class="d-none name"><code>application-to-probability-of-success.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://boehringer-ingelheim.github.io/oncomsm/">oncomsm</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://future.futureverse.org" class="external-link">future</a></span><span class="op">)</span> <span class="co"># parallel processing</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://doFuture.futureverse.org" class="external-link">doFuture</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: foreach</span></span>
<span><span class="fu"><a href="https://doFuture.futureverse.org/reference/registerDoFuture.html" class="external-link">registerDoFuture</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="va">multisession</span><span class="op">)</span> <span class="co"># instruct future how to run in parallel</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42L</span><span class="op">)</span></span></code></pre></div>
<p><strong>tl;dr:</strong> <em>A multi-state model allows sampling
individual-level data. This can be used to sample future trial data from
the prior-predictive distribution at the planning stage. This generated
trial data can then be used to evaluate quantitative decision criteria
to determine whether the sampled data would lead to a success. The
average success rate over multiple such data sets is the Probability of
Success. A similar approach can be taken at any interim time point by
sampling from the posterior predictive distribution conditioning on any
observed data. This then leads to an updated (or conditional)
Probability of Success.</em></p>
<p>For a general introduction to the multi-state approach used
throughout this package, see the vignette <em>Multi-state Models for
Early Oncology</em>.</p>
<div class="section level2">
<h2 id="decision-criteria-and-probability-of-success">Decision criteria and Probability of Success<a class="anchor" aria-label="anchor" href="#decision-criteria-and-probability-of-success"></a>
</h2>
<p>Let <span class="math inline">\(D_t \in \mathbb{D}\)</span> be the
observed (visit) data at time point <span class="math inline">\(t\)</span> after the start of the trial. Let <span class="math inline">\(\tau\)</span> be the stopping time of the trial,
e.g. the time point when all <span class="math inline">\(n\)</span>
individuals have been recruited and have reached their minimal
follow-up. The final decision whether or not the trial is considered a
success can then be modeled as a function <span class="math inline">\(\phi: \mathbb{D} \to \{0,1\}\)</span> with</p>
<p><span class="math display">\[\phi(D_\tau)=1 :\Leftrightarrow D_\tau\
\text{is considered a success}\ . \]</span></p>
<p>Let <span class="math inline">\(\theta\)</span> be a vector of
parameters for a generative model that allows to sample data <span class="math inline">\(D_\tau|\theta\)</span>. Probability of Success can
the be calculated as expected value of the decision rule under a prior
distribution <span class="math inline">\(f(\cdot)\)</span> over the
parameter space: <span class="math display">\[
\operatorname{PoS} = \int \phi(D_\tau) \cdot f(\theta)
\operatorname{d}\theta \ .
\]</span> In practice this integral can be approximated by sampling from
the generative model and calculating the average success rate.</p>
<p>If data <span class="math inline">\(D_t=d_t\)</span> is observed for
<span class="math inline">\(t\leq\tau\)</span>, one can update the
Probability of Success using Bayes Theorem <span class="math display">\[
\operatorname{PoS}\,|\, (D_t=d_t \ ) = \int \phi(D_\tau\,|\,D_t=d_t)
\cdot f(\theta\,|\,D_t=d_t) \operatorname{d}\theta \ .
\]</span></p>
<p>Examples for such decision rules could be</p>
<ol style="list-style-type: decimal">
<li>a quantile of the posterior distribution of the response rate being
above a certain relevance threshold,</li>
<li>a quantile of the posterior distribution of the PFS6 rate being
above a certain relevance threshold,</li>
<li>a quantile of the posterior distribution of PFS being above a
certain threshold,</li>
<li>or a combination of the above.</li>
</ol>
<p>Consider a situation with a trial including two different arms “A”
and “B”. Assume that the following prior for the Weibull SRP multi-state
model with three arms/groups is given.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mdl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/srp_model.html">create_srp_model</a></span><span class="op">(</span></span>
<span>  group_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>,</span>
<span>  logodds_mean <span class="op">=</span> <span class="fu"><a href="../../reference/logodds.html">logodds</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.9</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  logodds_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2L</span><span class="op">)</span>,</span>
<span>  median_time_to_next_event <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fl">2</span>, <span class="fl">6</span>, <span class="fl">24</span>,</span>
<span>    <span class="fl">2</span>, <span class="fl">6</span>, <span class="fl">24</span></span>
<span>  <span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  median_time_to_next_event_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">3</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  visit_spacing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1.2</span>, <span class="fl">2L</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>One can now sample from the prior and visualize the prior
assumptions.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">smpl_prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/sample_prior.html">sample_prior</a></span><span class="op">(</span><span class="va">mdl</span>, seed <span class="op">=</span> <span class="fl">6835L</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mdl</span>, dt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">36</span><span class="op">)</span>, sample <span class="op">=</span> <span class="va">smpl_prior</span>, n_grid <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span></code></pre></div>
<p><img src="application-to-probability-of-success_files/figure-html/sample-from-prios-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="a-composite-orr-and-pfs12-success-criterion">A composite ORR and PFS12 success criterion<a class="anchor" aria-label="anchor" href="#a-composite-orr-and-pfs12-success-criterion"></a>
</h2>
<p>Assume that success is defined as a combination of a sufficiently
high response rate and a sufficiently high progression-free-survival
rate at 12 months:</p>
<p><span class="math display">\[\phi(D_\tau) :=
\operatorname{Pr}\big[\,\text{ORR} \geq 0.3\ \&amp;\ \text{PFS}_{t=12}
\geq 0.4 \, | \, D_\tau\,\big] \geq 0.75\]</span></p>
<p>This decision criterion can be implemented as the following
function:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">is_success</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">nsim</span> <span class="op">=</span> <span class="fl">250L</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">3819308</span><span class="op">)</span></span>
<span>  <span class="va">smpl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/sample_posterior.html">sample_posterior</a></span><span class="op">(</span><span class="va">mdl</span>, data <span class="op">=</span> <span class="va">data</span>, warmup <span class="op">=</span> <span class="fl">150L</span>, nsim <span class="op">=</span> <span class="va">nsim</span><span class="op">)</span></span>
<span>  <span class="va">tbl_pfs_orr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_cols</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="../../reference/sample_pfs_rate.html">sample_pfs_rate</a></span><span class="op">(</span><span class="va">mdl</span>, <span class="fl">12</span>, <span class="va">smpl</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="../../reference/parameter_sample_to_tibble.html">parameter_sample_to_tibble</a></span><span class="op">(</span><span class="va">mdl</span>, <span class="va">smpl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">parameter</span> <span class="op">==</span> <span class="st">"p"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">transmute</a></span><span class="op">(</span>orr <span class="op">=</span> <span class="va">value</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="va">tbl_pfs_orr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">group_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>      success <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">pfs</span> <span class="op">&gt;=</span> <span class="fl">0.5</span> <span class="op">&amp;</span> <span class="va">orr</span> <span class="op">&gt;=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fl">0.75</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>An example of how to apply the criterion to a sample from the prior
predictive distribution is given below:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl_prior_predictive</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/sample_predictive.html">sample_predictive</a></span><span class="op">(</span></span>
<span>    <span class="va">mdl</span>,</span>
<span>    n_per_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">40L</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    sample <span class="op">=</span> <span class="va">smpl_prior</span>,</span>
<span>    nsim <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>    seed <span class="op">=</span> <span class="fl">34930L</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">is_success</span><span class="op">(</span><span class="va">tbl_prior_predictive</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 2</span></span></span>
<span><span class="co">#&gt;   group_id success</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A        FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> B        FALSE</span></span></code></pre></div>
<p>Next, we can create a table of multiple prior-predictive samples.
Grouping them by iteration and nesting the data frames results in a data
frame of data frames, where <code>tbl_prior_predictive$data[[i]]</code>
corresponds to the data in the i-th resample.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl_prior_predictive</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/sample_predictive.html">sample_predictive</a></span><span class="op">(</span></span>
<span>    <span class="va">mdl</span>,</span>
<span>    n_per_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">40L</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    sample <span class="op">=</span> <span class="va">smpl_prior</span>,</span>
<span>    nsim <span class="op">=</span> <span class="fl">100L</span>, <span class="co"># same, here, only for demonstration purposes</span></span>
<span>    seed <span class="op">=</span> <span class="fl">34930L</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">iter</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">tbl_prior_predictive</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 100 × 2</span></span></span>
<span><span class="co">#&gt;     iter data              </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 <span style="color: #949494;">&lt;tibble [105 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 <span style="color: #949494;">&lt;tibble [115 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3 <span style="color: #949494;">&lt;tibble [100 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4 <span style="color: #949494;">&lt;tibble [104 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5 <span style="color: #949494;">&lt;tibble [153 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6 <span style="color: #949494;">&lt;tibble [119 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7 <span style="color: #949494;">&lt;tibble [142 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8 <span style="color: #949494;">&lt;tibble [106 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9 <span style="color: #949494;">&lt;tibble [120 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10 <span style="color: #949494;">&lt;tibble [119 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 90 more rows</span></span></span></code></pre></div>
<p>Applying the decision criterion to each of them and averaging over
all iterations is an MCMC approximation of the expected Probability of
Success.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compute results in parallel</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/foreach/man/foreach.html" class="external-link">foreach</a></span><span class="op">(</span>i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">tbl_prior_predictive</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/foreach/man/foreach.html" class="external-link">%dopar%</a></span> <span class="op">{</span></span>
<span>  <span class="fu">is_success</span><span class="op">(</span><span class="va">tbl_prior_predictive</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># bind results together and aggregate to probability of success</span></span>
<span><span class="va">tbl_pos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">res</span>, .id <span class="op">=</span> <span class="st">"iter"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">group_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    PoS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">success</span><span class="op">)</span>,</span>
<span>    se  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">success</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">tbl_pos</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 3</span></span></span>
<span><span class="co">#&gt;   group_id   PoS     se</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A         0.23 0.042<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> B         0.68 0.046<span style="text-decoration: underline;">9</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="probability-of-success-during-the-trial">Probability of Success During the Trial<a class="anchor" aria-label="anchor" href="#probability-of-success-during-the-trial"></a>
</h2>
<p>The Bayesian generative model allows calculating the posterior
distribution at any time point given the data observed so far. The
future course of the trial can then be sampled from the posterior
predictive distribution.</p>
<p>To illustrate the shift in success probability over time, a single
realization from a point in the parameter space is sampled. The
probability of success can then be calculated at different time points
to show how the prior shifts.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mdl_point</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/srp_model.html">create_srp_model</a></span><span class="op">(</span></span>
<span>  group_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>,</span>
<span>  logodds_mean <span class="op">=</span> <span class="fu"><a href="../../reference/logodds.html">logodds</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span>, <span class="co"># chose conflicting ORR parameters</span></span>
<span>  logodds_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">2L</span><span class="op">)</span>, <span class="co"># almost constant prior = fixed parameter</span></span>
<span>  median_time_to_next_event <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>     <span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">24</span>,</span>
<span>     <span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">24</span></span>
<span>  <span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  median_time_to_next_event_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0.1</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  visit_spacing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.2</span>, <span class="fl">1.2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># sample single realization</span></span>
<span><span class="va">tbl_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/generate_visit_data.html">generate_visit_data</a></span><span class="op">(</span></span>
<span>    <span class="va">mdl_point</span>,</span>
<span>    n_per_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40L</span>, <span class="fl">40L</span><span class="op">)</span>,</span>
<span>    recruitment_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40</span> <span class="op">/</span> <span class="fl">24</span>, <span class="fl">40</span> <span class="op">/</span> <span class="fl">24</span><span class="op">)</span> <span class="co"># recruit in 24 months</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">tbl_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1,663 × 4</span></span></span>
<span><span class="co">#&gt;    subject_id group_id       t state   </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 1          A         0.052<span style="text-decoration: underline;">5</span> stable  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 1          A         1.49   stable  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 1          A         2.93   stable  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 1          A         4.37   stable  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1          A         5.81   stable  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 1          A         7.25   stable  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 1          A         8.45   response</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 1          A         9.73   response</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 1          A        11.0    response</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 1          A        12.3    response</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1,653 more rows</span></span></span></code></pre></div>
<p>Next, the snapshot at a sequence of time points of this trial data
can be created. Interim analyses every 3 months starting at 9 months
after first-patient-in up to 24 months are considered.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl_data_interims</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    t_interim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">9</span>, <span class="fl">12</span>, <span class="fl">18</span>, <span class="fl">24</span>, <span class="fl">60</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">t_interim</span>, <span class="kw">function</span><span class="op">(</span><span class="va">t_interim</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">tbl_data</span>, <span class="va">t</span> <span class="op">&lt;=</span> <span class="va">t_interim</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># keep only visits before interim</span></span>
<span>        <span class="fu"><a href="../../reference/visits_to_mstate.html">visits_to_mstate</a></span><span class="op">(</span>start_state <span class="op">=</span> <span class="st">"stable"</span>, <span class="co"># convert to mstate format</span></span>
<span>                         absorbing_states <span class="op">=</span> <span class="st">"progression"</span>, now <span class="op">=</span> <span class="va">t_interim</span><span class="op">)</span></span>
<span>      <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>For each such interim data set, the remainder of the trial can be
imputed by sampling form the posterior-predictive distribution.
Probability of success is then the average success rate in the posterior
predictive sample. The change of PoS over time is shown below with
errorbars corresponding to the standard error of the simulation.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># wrap the steps to calculate PoS into a function</span></span>
<span><span class="va">pos</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">tbl</span>, <span class="va">nsim</span> <span class="op">=</span> <span class="fl">50L</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">tbl_posterior_predictive</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/impute.html">impute</a></span><span class="op">(</span></span>
<span>      <span class="va">mdl</span>, <span class="va">tbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">40L</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2L</span><span class="op">)</span>, nsim <span class="op">=</span> <span class="va">nsim</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">iter</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/foreach/man/foreach.html" class="external-link">foreach</a></span><span class="op">(</span>i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">nsim</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/foreach/man/foreach.html" class="external-link">%dopar%</a></span> <span class="op">{</span></span>
<span>    <span class="fu">is_success</span><span class="op">(</span><span class="va">tbl_posterior_predictive</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="va">tbl_pos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">res</span>, .id <span class="op">=</span> <span class="st">"iter"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">group_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>      PoS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">success</span><span class="op">)</span>,</span>
<span>      se  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">success</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">tbl_pos</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># apply it to every time point</span></span>
<span><span class="va">tbl_pos_over_time</span> <span class="op">&lt;-</span> <span class="va">tbl_data_interims</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    pos <span class="op">=</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">pos</span>, nsim <span class="op">=</span> <span class="fl">50L</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">pos</span><span class="op">)</span></span>
<span><span class="co"># plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">tbl_pos_over_time</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">t_interim</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_errorbar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">PoS</span> <span class="op">-</span> <span class="va">se</span>, ymax <span class="op">=</span> <span class="va">PoS</span> <span class="op">+</span> <span class="va">se</span>, color <span class="op">=</span> <span class="va">group_id</span><span class="op">)</span>,</span>
<span>                width <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">PoS</span>, color <span class="op">=</span> <span class="va">group_id</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.33</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="application-to-probability-of-success_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R version 4.2.2 (2022-10-31)</span></span>
<span><span class="co">#&gt; Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">#&gt; Running under: Ubuntu 20.04.5 LTS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0</span></span>
<span><span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt;  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">#&gt;  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">#&gt;  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">#&gt; [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt; [1] doFuture_0.12.2    foreach_1.5.2      future_1.29.0      dplyr_1.0.10      </span></span>
<span><span class="co">#&gt; [5] ggplot2_3.4.0      oncomsm_0.1.0.9000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] Rcpp_1.0.9           tidyr_1.2.1          listenv_0.8.0       </span></span>
<span><span class="co">#&gt;  [4] prettyunits_1.1.1    ps_1.7.2             rprojroot_2.0.3     </span></span>
<span><span class="co">#&gt;  [7] digest_0.6.30        utf8_1.2.2           parallelly_1.32.1   </span></span>
<span><span class="co">#&gt; [10] R6_2.5.1             backports_1.4.1      stats4_4.2.2        </span></span>
<span><span class="co">#&gt; [13] evaluate_0.18        highr_0.9            pillar_1.8.1        </span></span>
<span><span class="co">#&gt; [16] rlang_1.0.6          uuid_1.1-0           callr_3.7.3         </span></span>
<span><span class="co">#&gt; [19] jquerylib_0.1.4      checkmate_2.1.0      rmarkdown_2.17      </span></span>
<span><span class="co">#&gt; [22] pkgdown_2.0.6        labeling_0.4.2       textshaping_0.3.6   </span></span>
<span><span class="co">#&gt; [25] desc_1.4.2           stringr_1.4.1        loo_2.5.1           </span></span>
<span><span class="co">#&gt; [28] munsell_0.5.0        compiler_4.2.2       xfun_0.34           </span></span>
<span><span class="co">#&gt; [31] rstan_2.21.7         pkgconfig_2.0.3      systemfonts_1.0.4   </span></span>
<span><span class="co">#&gt; [34] pkgbuild_1.3.1       globals_0.16.1       htmltools_0.5.3     </span></span>
<span><span class="co">#&gt; [37] tidyselect_1.2.0     tibble_3.1.8         gridExtra_2.3       </span></span>
<span><span class="co">#&gt; [40] codetools_0.2-18     matrixStats_0.62.0   fansi_1.0.3         </span></span>
<span><span class="co">#&gt; [43] crayon_1.5.2         withr_2.5.0          grid_4.2.2          </span></span>
<span><span class="co">#&gt; [46] jsonlite_1.8.3       gtable_0.3.1         lifecycle_1.0.3     </span></span>
<span><span class="co">#&gt; [49] magrittr_2.0.3       StanHeaders_2.21.0-7 scales_1.2.1        </span></span>
<span><span class="co">#&gt; [52] RcppParallel_5.1.5   cli_3.4.1            stringi_1.7.8       </span></span>
<span><span class="co">#&gt; [55] cachem_1.0.6         farver_2.1.1         fs_1.5.2            </span></span>
<span><span class="co">#&gt; [58] bslib_0.4.1          ellipsis_0.3.2       ragg_1.2.4          </span></span>
<span><span class="co">#&gt; [61] generics_0.1.3       vctrs_0.5.0          iterators_1.0.14    </span></span>
<span><span class="co">#&gt; [64] tools_4.2.2          glue_1.6.2           purrr_0.3.5         </span></span>
<span><span class="co">#&gt; [67] processx_3.8.0       parallel_4.2.2       fastmap_1.1.0       </span></span>
<span><span class="co">#&gt; [70] yaml_2.3.6           inline_0.3.19        colorspace_2.0-3    </span></span>
<span><span class="co">#&gt; [73] memoise_2.0.1        knitr_1.40           patchwork_1.1.2     </span></span>
<span><span class="co">#&gt; [76] sass_0.4.2</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kevin Kunzmann, Boehringer Ingelheim Ltd..</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
